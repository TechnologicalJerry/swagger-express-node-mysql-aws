{
  "info": {
    "_postman_id": "1f4b9fda-4e15-4f4f-9e4a-3e9f61e0a915",
    "name": "Swagger Express Node MySQL AWS",
    "description": "Postman collection covering the public and admin endpoints for the Swagger Express Node MySQL starter. Configure environment variables as needed.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Utilities",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{serverUrl}}/health",
              "host": [
                "{{serverUrl}}"
              ],
              "path": [
                "health"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Auth",
      "item": [
        {
          "name": "Register",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{email}}\",\n  \"password\": \"{{userPassword}}\",\n  \"confirmPassword\": \"{{userPassword}}\",\n  \"firstName\": \"{{firstName}}\",\n  \"lastName\": \"{{lastName}}\",\n  \"userName\": \"{{userName}}\",\n  \"gender\": \"{{gender}}\",\n  \"dob\": \"{{dob}}\",\n  \"phone\": \"{{phone}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{apiBase}}/auth/register",
              "host": [
                "{{apiBase}}"
              ],
              "path": [
                "auth",
                "register"
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "let json;",
                  "try {",
                  "  json = pm.response.json();",
                  "} catch (err) {",
                  "  console.warn('No JSON response to parse', err);",
                  "}",
                  "if (json && json.token) {",
                  "  pm.collectionVariables.set('authToken', json.token);",
                  "}",
                  "if (json && json.user && json.user.uuid) {",
                  "  pm.collectionVariables.set('userUuid', json.user.uuid);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{email}}\",\n  \"password\": \"{{userPassword}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{apiBase}}/auth/login",
              "host": [
                "{{apiBase}}"
              ],
              "path": [
                "auth",
                "login"
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "let json;",
                  "try {",
                  "  json = pm.response.json();",
                  "} catch (err) {",
                  "  console.warn('No JSON response to parse', err);",
                  "}",
                  "if (json && json.token) {",
                  "  pm.collectionVariables.set('authToken', json.token);",
                  "}",
                  "if (json && json.user && json.user.uuid) {",
                  "  pm.collectionVariables.set('userUuid', json.user.uuid);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Me",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{apiBase}}/auth/me",
              "host": [
                "{{apiBase}}"
              ],
              "path": [
                "auth",
                "me"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Forgot Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{email}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{apiBase}}/auth/forgot-password",
              "host": [
                "{{apiBase}}"
              ],
              "path": [
                "auth",
                "forgot-password"
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "let json;",
                  "try {",
                  "  json = pm.response.json();",
                  "} catch (err) {",
                  "  console.warn('No JSON response to parse', err);",
                  "}",
                  "if (json && json.token) {",
                  "  pm.collectionVariables.set('resetToken', json.token);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Reset Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"token\": \"{{resetToken}}\",\n  \"password\": \"NewP@ssw0rd!\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{apiBase}}/auth/reset-password",
              "host": [
                "{{apiBase}}"
              ],
              "path": [
                "auth",
                "reset-password"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Users (Admin)",
      "item": [
        {
          "name": "List Users",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{apiBase}}/users",
              "host": [
                "{{apiBase}}"
              ],
              "path": [
                "users"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"new.user@example.com\",\n  \"password\": \"Adm1nP@ss!\",\n  \"firstName\": \"New\",\n  \"lastName\": \"User\",\n  \"role\": \"admin\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{apiBase}}/users",
              "host": [
                "{{apiBase}}"
              ],
              "path": [
                "users"
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "let json;",
                  "try {",
                  "  json = pm.response.json();",
                  "} catch (err) {",
                  "  console.warn('No JSON response to parse', err);",
                  "}",
                  "if (json && json.uuid) {",
                  "  pm.collectionVariables.set('userUuid', json.uuid);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Get User by UUID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{apiBase}}/users/{{userUuid}}",
              "host": [
                "{{apiBase}}"
              ],
              "path": [
                "users",
                "{{userUuid}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update User",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"Updated\",\n  \"lastName\": \"User\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{apiBase}}/users/{{userUuid}}",
              "host": [
                "{{apiBase}}"
              ],
              "path": [
                "users",
                "{{userUuid}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete User",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{apiBase}}/users/{{userUuid}}",
              "host": [
                "{{apiBase}}"
              ],
              "path": [
                "users",
                "{{userUuid}}"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Products",
      "item": [
        {
          "name": "List Products",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{apiBase}}/products",
              "host": [
                "{{apiBase}}"
              ],
              "path": [
                "products"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Product by UUID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{apiBase}}/products/{{productUuid}}",
              "host": [
                "{{apiBase}}"
              ],
              "path": [
                "products",
                "{{productUuid}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Product",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Sample Product\",\n  \"description\": \"A sample product\",\n  \"price\": 19.99,\n  \"stock\": 25\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{apiBase}}/products",
              "host": [
                "{{apiBase}}"
              ],
              "path": [
                "products"
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "let json;",
                  "try {",
                  "  json = pm.response.json();",
                  "} catch (err) {",
                  "  console.warn('No JSON response to parse', err);",
                  "}",
                  "if (json && json.uuid) {",
                  "  pm.collectionVariables.set('productUuid', json.uuid);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Update Product",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"price\": 29.99,\n  \"stock\": 15\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{apiBase}}/products/{{productUuid}}",
              "host": [
                "{{apiBase}}"
              ],
              "path": [
                "products",
                "{{productUuid}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete Product",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{apiBase}}/products/{{productUuid}}",
              "host": [
                "{{apiBase}}"
              ],
              "path": [
                "products",
                "{{productUuid}}"
              ]
            }
          },
          "response": []
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "serverUrl",
      "value": "http://localhost:3000"
    },
    {
      "key": "apiBase",
      "value": "{{serverUrl}}/api/v1"
    },
    {
      "key": "authToken",
      "value": ""
    },
    {
      "key": "userUuid",
      "value": ""
    },
    {
      "key": "productUuid",
      "value": ""
    },
    {
      "key": "resetToken",
      "value": ""
    },
    {
      "key": "email",
      "value": "user@example.com"
    },
    {
      "key": "userPassword",
      "value": "P@ssw0rd!"
    },
    {
      "key": "firstName",
      "value": "Jane"
    },
    {
      "key": "lastName",
      "value": "Doe"
    },
    {
      "key": "userName",
      "value": "janedoe"
    },
    {
      "key": "gender",
      "value": "female"
    },
    {
      "key": "dob",
      "value": "1990-01-01"
    },
    {
      "key": "phone",
      "value": "+10000000000"
    }
  ]
}

